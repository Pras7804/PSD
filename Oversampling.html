
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Oversampling &#8212; Proyek Sains Data</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css?v=6644e6bb" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Oversampling';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/foto.png" class="logo__image only-light" alt="Proyek Sains Data - Home"/>
    <script>document.write(`<img src="_static/foto.png" class="logo__image only-dark" alt="Proyek Sains Data - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Proyek Sains Data
                </a>
            </li>
        </ul>
        <ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="business_psd.html"><strong>Business Understanding</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="data_psd.html"><strong>Data Understanding</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="knime.html"><strong>Analisis Data Menggunakan Tools KNIME</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="forecasting.html"><strong>Time Series Forecasting</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="prediksi_suara.html"><strong>Prediksi Suara</strong></a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2FOversampling.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/Oversampling.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Oversampling</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#import-library-load-data"><strong>Import library &amp; load data</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#preprocessing-data"><strong>Preprocessing Data</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-original"><strong>Data Original</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#kesimpulan">Kesimpulan</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#oversampling-dengan-smote"><strong>Oversampling dengan SMOTE</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#oversampling-dengan-adasyn"><strong>Oversampling dengan ADASYN</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#reduksi-dimensi-dengan-pca-setelah-oversampling"><strong>Reduksi Dimensi dengan PCA setelah oversampling</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#hasil-data-setelah-di-seimbangkan-dengan-smote">Hasil data setelah di seimbangkan dengan SMOTE</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#hasil-data-setelah-di-seimbangkan-dengan-adasyn">Hasil data setelah di seimbangkan dengan ADASYN</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#klasifikasi"><strong>Klasifikasi</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#naive-bayes"><strong>Naive Bayes</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#random-forest"><strong>Random Forest</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ensemble-bagging"><strong>Ensemble Bagging</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1"><strong>Kesimpulan</strong></a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="oversampling">
<h1><strong>Oversampling</strong><a class="headerlink" href="#oversampling" title="Link to this heading">#</a></h1>
<section id="import-library-load-data">
<h2><strong>Import library &amp; load data</strong><a class="headerlink" href="#import-library-load-data" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Menggunakan pymysql + SQLAlchemy untuk membaca dataset dari tabel ecoli_dataset yang terhubung di database cloud menggunakan aiven.</p></li>
<li><p>Data disimpan ke pandas DataFrame.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>pymysql
<span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>pandas
<span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>sqlalchemy
<span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>python-dotenv
<span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>imbalanced-learn
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Collecting pymysql
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  Downloading pymysql-1.1.2-py3-none-any.whl.metadata (4.3 kB)
Downloading pymysql-1.1.2-py3-none-any.whl (45 kB)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Installing collected packages: pymysql
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Successfully installed pymysql-1.1.2
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: pandas in /home/codespace/.local/lib/python3.12/site-packages (2.3.3)
Requirement already satisfied: numpy&gt;=1.26.0 in /home/codespace/.local/lib/python3.12/site-packages (from pandas) (2.3.4)
Requirement already satisfied: python-dateutil&gt;=2.8.2 in /home/codespace/.local/lib/python3.12/site-packages (from pandas) (2.9.0.post0)
Requirement already satisfied: pytz&gt;=2020.1 in /home/codespace/.local/lib/python3.12/site-packages (from pandas) (2025.2)
Requirement already satisfied: tzdata&gt;=2022.7 in /home/codespace/.local/lib/python3.12/site-packages (from pandas) (2025.2)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: six&gt;=1.5 in /home/codespace/.local/lib/python3.12/site-packages (from python-dateutil&gt;=2.8.2-&gt;pandas) (1.17.0)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: sqlalchemy in /usr/local/python/3.12.1/lib/python3.12/site-packages (2.0.45)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: greenlet&gt;=1 in /usr/local/python/3.12.1/lib/python3.12/site-packages (from sqlalchemy) (3.3.0)
Requirement already satisfied: typing-extensions&gt;=4.6.0 in /home/codespace/.local/lib/python3.12/site-packages (from sqlalchemy) (4.15.0)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Collecting python-dotenv
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  Downloading python_dotenv-1.2.1-py3-none-any.whl.metadata (25 kB)
Downloading python_dotenv-1.2.1-py3-none-any.whl (21 kB)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Installing collected packages: python-dotenv
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Successfully installed python-dotenv-1.2.1
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Collecting imbalanced-learn
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  Downloading imbalanced_learn-0.14.0-py3-none-any.whl.metadata (8.8 kB)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: numpy&lt;3,&gt;=1.25.2 in /home/codespace/.local/lib/python3.12/site-packages (from imbalanced-learn) (2.3.4)
Requirement already satisfied: scipy&lt;2,&gt;=1.11.4 in /home/codespace/.local/lib/python3.12/site-packages (from imbalanced-learn) (1.16.3)
Requirement already satisfied: scikit-learn&lt;2,&gt;=1.4.2 in /home/codespace/.local/lib/python3.12/site-packages (from imbalanced-learn) (1.7.2)
Requirement already satisfied: joblib&lt;2,&gt;=1.2.0 in /home/codespace/.local/lib/python3.12/site-packages (from imbalanced-learn) (1.5.2)
Requirement already satisfied: threadpoolctl&lt;4,&gt;=2.0.0 in /home/codespace/.local/lib/python3.12/site-packages (from imbalanced-learn) (3.6.0)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Downloading imbalanced_learn-0.14.0-py3-none-any.whl (239 kB)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Installing collected packages: imbalanced-learn
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Successfully installed imbalanced-learn-0.14.0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">google.colab</span><span class="w"> </span><span class="kn">import</span> <span class="n">files</span>
<span class="n">uploaded</span> <span class="o">=</span> <span class="n">files</span><span class="o">.</span><span class="n">upload</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ModuleNotFoundError</span><span class="g g-Whitespace">                       </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="kn">from</span><span class="w"> </span><span class="nn">google.colab</span><span class="w"> </span><span class="kn">import</span> <span class="n">files</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="n">uploaded</span> <span class="o">=</span> <span class="n">files</span><span class="o">.</span><span class="n">upload</span><span class="p">()</span>

<span class="ne">ModuleNotFoundError</span>: No module named &#39;google&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sqlalchemy</span><span class="w"> </span><span class="kn">import</span> <span class="n">create_engine</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">dotenv</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dotenv</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">io</span>

<span class="c1"># Load the content of the uploaded .env file</span>
<span class="n">env_content</span> <span class="o">=</span> <span class="n">uploaded</span><span class="p">[</span><span class="s1">&#39;UCI.env&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>

<span class="c1"># Parse the content and set environment variables manually, removing angle brackets</span>
<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">env_content</span><span class="o">.</span><span class="n">splitlines</span><span class="p">():</span>
    <span class="k">if</span> <span class="s1">&#39;=&#39;</span> <span class="ow">in</span> <span class="n">line</span><span class="p">:</span>
        <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;=&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="n">key</span><span class="o">.</span><span class="n">strip</span><span class="p">()]</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;&lt;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>

<span class="c1"># Ambil variabel koneksi dari lingkungan</span>
<span class="n">MYSQL_HOST</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;MYSQL_HOST&quot;</span><span class="p">)</span>
<span class="n">MYSQL_PORT</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;MYSQL_PORT&quot;</span><span class="p">)</span>
<span class="n">MYSQL_USER</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;MYSQL_USER&quot;</span><span class="p">)</span>
<span class="n">MYSQL_PASSWORD</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;MYSQL_PASSWORD&quot;</span><span class="p">)</span>
<span class="n">MYSQL_DATABASE</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;MYSQL_DATABASE&quot;</span><span class="p">)</span>

<span class="c1"># Gunakan SQLAlchemy untuk koneksi ke MySQL</span>
<span class="c1"># Ensure the port is an integer</span>
<span class="n">mysql_engine</span> <span class="o">=</span> <span class="n">create_engine</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;mysql+pymysql://</span><span class="si">{</span><span class="n">MYSQL_USER</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">MYSQL_PASSWORD</span><span class="si">}</span><span class="s2">@</span><span class="si">{</span><span class="n">MYSQL_HOST</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="n">MYSQL_PORT</span><span class="p">)</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">MYSQL_DATABASE</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Jalankan query</span>
<span class="n">mysql_query</span> <span class="o">=</span> <span class="s2">&quot;SELECT * FROM ecoli_dataset;&quot;</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_sql</span><span class="p">(</span><span class="n">mysql_query</span><span class="p">,</span> <span class="n">mysql_engine</span><span class="p">)</span>

<span class="c1"># Print hasil</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Data dari MySQL:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Data dari MySQL:
     sequence   mcg   gvh   lip  chg   aac  alm1  alm2 class
0   AAS_ECOLI  0.44  0.52  0.48  0.5  0.43  0.47  0.54    im
1   AAT_ECOLI  0.49  0.29  0.48  0.5  0.56  0.24  0.35    cp
2  ACEA_ECOLI  0.07  0.40  0.48  0.5  0.54  0.35  0.44    cp
3  ACEK_ECOLI  0.56  0.40  0.48  0.5  0.49  0.37  0.46    cp
4  ACKA_ECOLI  0.59  0.49  0.48  0.5  0.52  0.45  0.36    cp
</pre></div>
</div>
</div>
</div>
</section>
<section id="preprocessing-data">
<h2><strong>Preprocessing Data</strong><a class="headerlink" href="#preprocessing-data" title="Link to this heading">#</a></h2>
<p>Dari dataset, kolom non-numerik seperti class (label target) dan sequence dihapus dari variabel fitur X. Label kelas class disimpan di y. Selanjutnya, semua fitur numerik pada X distandarisasi dengan MinMaxScaler agar berada pada skala yang sama.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.decomposition</span><span class="w"> </span><span class="kn">import</span> <span class="n">PCA</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>

<span class="c1"># Buang kolom non-numerik</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s2">&quot;class&quot;</span><span class="p">,</span> <span class="s2">&quot;sequence&quot;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;class&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="data-original">
<h2><strong>Data Original</strong><a class="headerlink" href="#data-original" title="Link to this heading">#</a></h2>
<p>Kode di bawah digunakan untuk menampilkan distribusi jumlah data pada dataset original (sebelum dilakukan balancing).</p>
<ol class="arabic simple">
<li><p>Pertama, dilakukan perhitungan jumlah data tiap kelas dengan fungsi <code class="docutils literal notranslate"><span class="pre">value_counts()</span></code>. Hasil perhitungan menunjukkan bahwa dataset terdiri dari 8 kelas dengan jumlah data yang berbeda-beda:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cp</span></code> : 143 data</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">im</span></code> : 77 data</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pp</span></code> : 52 data</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">imU</span></code>: 35 data</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">om</span></code> : 20 data</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">omL</span></code> : 5 data</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">imS</span></code> : 2 data</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">imL</span></code> : 2 data</p></li>
</ul>
</li>
<li><p>Selanjutnya, dibuat grafik batang menggunakan <code class="docutils literal notranslate"><span class="pre">Seaborn</span></code> untuk memperlihatkan perbandingan jumlah data antar kelas secara visual.</p></li>
<li><p>Hasil grafik menunjukkan bahwa distribusi kelas dalam data tidak seimbang (imbalanced).</p>
<ul class="simple">
<li><p>Kelas mayoritas adalah <code class="docutils literal notranslate"><span class="pre">cp</span></code> dengan 143 data.</p></li>
<li><p>Beberapa kelas minoritas seperti <code class="docutils literal notranslate"><span class="pre">imS,</span> <span class="pre">imL</span></code>, dan <code class="docutils literal notranslate"><span class="pre">omL</span></code> memiliki jumlah data yang sangat sedikit (â‰¤ 5 data).</p></li>
</ul>
</li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">seaborn</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sns</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">collections</span><span class="w"> </span><span class="kn">import</span> <span class="n">Counter</span>

<span class="c1"># ============================</span>
<span class="c1"># Jumlah data tiap kelas (angka)</span>
<span class="c1"># ============================</span>
<span class="n">class_counts</span> <span class="o">=</span> <span class="n">y</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Jumlah data per kelas:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">class_counts</span><span class="p">)</span>

<span class="c1"># ============================</span>
<span class="c1"># Grafik batang distribusi kelas</span>
<span class="c1"># ============================</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">class_counts</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">class_counts</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="s2">&quot;tab10&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Distribusi Jumlah Data per Kelas&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Kelas&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Jumlah Data&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Jumlah data per kelas:
class
cp     143
im      77
pp      52
imU     35
om      20
omL      5
imS      2
imL      2
Name: count, dtype: int64
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/tmp/ipython-input-2550041022.py:16: FutureWarning: 

Passing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.

  sns.barplot(x=class_counts.index, y=class_counts.values, palette=&quot;tab10&quot;)
</pre></div>
</div>
<img alt="_images/3ddecf704c65d58cfa2e32fe9983e800969489d77178ccdfd5cf57a56e5cc005.png" src="_images/3ddecf704c65d58cfa2e32fe9983e800969489d77178ccdfd5cf57a56e5cc005.png" />
</div>
</div>
<p>Principal Component Analysis (PCA) digunakan untuk mereduksi dimensi data menjadi 2 komponen utama (PC1 dan PC2). Hasil reduksi divisualisasikan dalam bentuk scatter plot, sehingga distribusi data antar kelas dapat diamati sebelum dilakukan penyeimbangan kelas.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pca</span> <span class="o">=</span> <span class="n">PCA</span><span class="p">(</span><span class="n">n_components</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">X_pca</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">scatter</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">X_pca</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">X_pca</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span>
                      <span class="n">c</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">factorize</span><span class="p">(</span><span class="n">y</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;tab10&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;PCA Sebelum Oversampling (tanpa normalisasi)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;PC1&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;PC2&quot;</span><span class="p">)</span>

<span class="c1"># Tambahkan legend sesuai kelas</span>
<span class="n">handles</span><span class="p">,</span> <span class="n">labels</span> <span class="o">=</span> <span class="n">scatter</span><span class="o">.</span><span class="n">legend_elements</span><span class="p">()</span>
<span class="n">class_labels</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">y</span><span class="p">)</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">handles</span><span class="p">,</span> <span class="n">class_labels</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Kelas&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/f9c6ad61ff37675136a46058e08f73fe6315d580daaa7abc4d78b4424c26736b.png" src="_images/f9c6ad61ff37675136a46058e08f73fe6315d580daaa7abc4d78b4424c26736b.png" />
</div>
</div>
<section id="kesimpulan">
<h3>Kesimpulan<a class="headerlink" href="#kesimpulan" title="Link to this heading">#</a></h3>
<p>Distribusi data original bersifat <strong>imbalanced</strong>, di mana terdapat perbedaan yang cukup signifikan antara jumlah data pada kelas mayoritas dan kelas minoritas. Kondisi ini berpotensi menyebabkan model cenderung lebih baik dalam mengenali kelas mayoritas dibanding kelas minoritas, sehingga perlu dipertimbangkan teknik penyeimbangan data seperti <strong>SMOTE</strong> atau <strong>ADASYN</strong> sebelum pelatihan model.</p>
</section>
</section>
<section id="oversampling-dengan-smote">
<h2><strong>Oversampling dengan SMOTE</strong><a class="headerlink" href="#oversampling-dengan-smote" title="Link to this heading">#</a></h2>
<p>Teknik SMOTE diterapkan untuk menambah jumlah data pada kelas minoritas dengan cara membuat sampel sintetis baru. Karena terdapat kelas yang hanya memiliki sedikit sampel, parameter k_neighbors diset menjadi 1 agar proses tidak gagal. Distribusi kelas setelah oversampling ditampilkan untuk membandingkan dengan kondisi awal.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">imblearn.over_sampling</span><span class="w"> </span><span class="kn">import</span> <span class="n">SMOTE</span><span class="p">,</span> <span class="n">ADASYN</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">collections</span><span class="w"> </span><span class="kn">import</span> <span class="n">Counter</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Distribusi awal:&quot;</span><span class="p">,</span> <span class="n">Counter</span><span class="p">(</span><span class="n">y</span><span class="p">))</span>

<span class="n">smote</span> <span class="o">=</span> <span class="n">SMOTE</span><span class="p">(</span><span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span> <span class="n">k_neighbors</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">X_smote</span><span class="p">,</span> <span class="n">y_smote</span> <span class="o">=</span> <span class="n">smote</span><span class="o">.</span><span class="n">fit_resample</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Distribusi setelah SMOTE:&quot;</span><span class="p">,</span> <span class="n">Counter</span><span class="p">(</span><span class="n">y_smote</span><span class="p">))</span>

<span class="c1"># PCA setelah SMOTE</span>
<span class="n">pca</span> <span class="o">=</span> <span class="n">PCA</span><span class="p">(</span><span class="n">n_components</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">X_smote_pca</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X_smote</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">scatter</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">X_smote_pca</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">X_smote_pca</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span>
                      <span class="n">c</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">factorize</span><span class="p">(</span><span class="n">y_smote</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;tab10&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;PCA Setelah Oversampling dengan SMOTE (tanpa normalisasi)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;PC1&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;PC2&quot;</span><span class="p">)</span>

<span class="n">handles</span><span class="p">,</span> <span class="n">labels</span> <span class="o">=</span> <span class="n">scatter</span><span class="o">.</span><span class="n">legend_elements</span><span class="p">()</span>
<span class="n">class_labels</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">y_smote</span><span class="p">)</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">handles</span><span class="p">,</span> <span class="n">class_labels</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Kelas&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Distribusi awal: Counter({&#39;cp&#39;: 143, &#39;im&#39;: 77, &#39;pp&#39;: 52, &#39;imU&#39;: 35, &#39;om&#39;: 20, &#39;omL&#39;: 5, &#39;imS&#39;: 2, &#39;imL&#39;: 2})
Distribusi setelah SMOTE: Counter({&#39;im&#39;: 143, &#39;cp&#39;: 143, &#39;pp&#39;: 143, &#39;imU&#39;: 143, &#39;imS&#39;: 143, &#39;om&#39;: 143, &#39;imL&#39;: 143, &#39;omL&#39;: 143})
</pre></div>
</div>
<img alt="_images/8f76dd49aa6e7433c711d9f328e8fd2110309ed041f950218cce243614943e54.png" src="_images/8f76dd49aa6e7433c711d9f328e8fd2110309ed041f950218cce243614943e54.png" />
</div>
</div>
</section>
<section id="oversampling-dengan-adasyn">
<h2><strong>Oversampling dengan ADASYN</strong><a class="headerlink" href="#oversampling-dengan-adasyn" title="Link to this heading">#</a></h2>
<p>Selain SMOTE, teknik ADASYN juga dicoba untuk menyeimbangkan kelas. ADASYN bekerja dengan memberikan bobot lebih pada kelas yang sulit dipelajari, sehingga lebih adaptif. Namun, karena dataset ini memiliki kelas yang sangat sedikit, proses ADASYN bisa gagal. Oleh karena itu, dilakukan iterasi dengan penyesuaian nilai n_neighbors agar dapat berjalan. Jika berhasil, distribusi kelas baru ditampilkan.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Distribusi kelas sebelum ADASYN:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">sorted</span><span class="p">(</span><span class="n">Counter</span><span class="p">(</span><span class="n">y</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">())</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">nt</span> <span class="o">=</span> <span class="n">X</span>
<span class="n">ns</span> <span class="o">=</span> <span class="n">y</span>

<span class="n">class_counts</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">y</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
<span class="n">temp</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">class_counts</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sorted counts untuk iterasi: </span><span class="si">{</span><span class="n">temp</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">):</span>
    <span class="n">n</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">temp</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Iterasi </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">: menggunakan k_neighbors=</span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">nt</span><span class="p">,</span> <span class="n">ns</span> <span class="o">=</span> <span class="n">ADASYN</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="n">n</span><span class="p">,</span> <span class="n">sampling_strategy</span><span class="o">=</span><span class="s1">&#39;minority&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">fit_resample</span><span class="p">(</span><span class="n">nt</span><span class="p">,</span> <span class="n">ns</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Hasil iterasi </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="nb">sorted</span><span class="p">(</span><span class="n">Counter</span><span class="p">(</span><span class="n">ns</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">())</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error pada iterasi </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">break</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Distribusi kelas setelah ADASYN:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">sorted</span><span class="p">(</span><span class="n">Counter</span><span class="p">(</span><span class="n">ns</span><span class="p">)</span><span class="o">.</span><span class="n">items</span><span class="p">())</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Total samples sebelum: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">y</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Total samples setelah: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">ns</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Data yang ditambahkan: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">ns</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="n">y</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Distribusi kelas sebelum ADASYN:
[(&#39;cp&#39;, 143), (&#39;im&#39;, 77), (&#39;imL&#39;, 2), (&#39;imS&#39;, 2), (&#39;imU&#39;, 35), (&#39;om&#39;, 20), (&#39;omL&#39;, 5), (&#39;pp&#39;, 52)]
Sorted counts untuk iterasi: [2, 2, 5, 20, 35, 52, 77, 143]

Iterasi 1: menggunakan k_neighbors=1
Hasil iterasi 1: [(&#39;cp&#39;, 143), (&#39;im&#39;, 77), (&#39;imL&#39;, 142), (&#39;imS&#39;, 2), (&#39;imU&#39;, 35), (&#39;om&#39;, 20), (&#39;omL&#39;, 5), (&#39;pp&#39;, 52)]

Iterasi 2: menggunakan k_neighbors=1
Hasil iterasi 2: [(&#39;cp&#39;, 143), (&#39;im&#39;, 77), (&#39;imL&#39;, 142), (&#39;imS&#39;, 142), (&#39;imU&#39;, 35), (&#39;om&#39;, 20), (&#39;omL&#39;, 5), (&#39;pp&#39;, 52)]

Iterasi 3: menggunakan k_neighbors=4
Hasil iterasi 3: [(&#39;cp&#39;, 143), (&#39;im&#39;, 77), (&#39;imL&#39;, 142), (&#39;imS&#39;, 142), (&#39;imU&#39;, 35), (&#39;om&#39;, 20), (&#39;omL&#39;, 143), (&#39;pp&#39;, 52)]

Iterasi 4: menggunakan k_neighbors=19
Hasil iterasi 4: [(&#39;cp&#39;, 143), (&#39;im&#39;, 77), (&#39;imL&#39;, 142), (&#39;imS&#39;, 142), (&#39;imU&#39;, 35), (&#39;om&#39;, 143), (&#39;omL&#39;, 143), (&#39;pp&#39;, 52)]

Iterasi 5: menggunakan k_neighbors=34
Hasil iterasi 5: [(&#39;cp&#39;, 143), (&#39;im&#39;, 77), (&#39;imL&#39;, 142), (&#39;imS&#39;, 142), (&#39;imU&#39;, 144), (&#39;om&#39;, 143), (&#39;omL&#39;, 143), (&#39;pp&#39;, 52)]

Iterasi 6: menggunakan k_neighbors=51
Hasil iterasi 6: [(&#39;cp&#39;, 143), (&#39;im&#39;, 77), (&#39;imL&#39;, 142), (&#39;imS&#39;, 142), (&#39;imU&#39;, 144), (&#39;om&#39;, 143), (&#39;omL&#39;, 143), (&#39;pp&#39;, 142)]

Iterasi 7: menggunakan k_neighbors=76
Hasil iterasi 7: [(&#39;cp&#39;, 143), (&#39;im&#39;, 149), (&#39;imL&#39;, 142), (&#39;imS&#39;, 142), (&#39;imU&#39;, 144), (&#39;om&#39;, 143), (&#39;omL&#39;, 143), (&#39;pp&#39;, 142)]

Distribusi kelas setelah ADASYN:
[(&#39;cp&#39;, 143), (&#39;im&#39;, 149), (&#39;imL&#39;, 142), (&#39;imS&#39;, 142), (&#39;imU&#39;, 144), (&#39;om&#39;, 143), (&#39;omL&#39;, 143), (&#39;pp&#39;, 142)]

Total samples sebelum: 336
Total samples setelah: 1148
Data yang ditambahkan: 812
</pre></div>
</div>
</div>
</div>
</section>
<section id="reduksi-dimensi-dengan-pca-setelah-oversampling">
<h2><strong>Reduksi Dimensi dengan PCA setelah oversampling</strong><a class="headerlink" href="#reduksi-dimensi-dengan-pca-setelah-oversampling" title="Link to this heading">#</a></h2>
<p>Setelah oversampling (baik SMOTE maupun ADASYN), data kembali direduksi ke dalam 2 dimensi dengan PCA. Scatter plot ditampilkan untuk memperlihatkan distribusi data baru setelah penambahan data sintetis. Visualisasi ini mempermudah perbandingan kondisi sebelum dan sesudah oversampling.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.decomposition</span><span class="w"> </span><span class="kn">import</span> <span class="n">PCA</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>

<span class="c1"># ========================</span>
<span class="c1"># PCA &amp; Scatter Plot setelah SMOTE</span>
<span class="c1"># ========================</span>
<span class="n">pca</span> <span class="o">=</span> <span class="n">PCA</span><span class="p">(</span><span class="n">n_components</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">X_smote_pca</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X_smote</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">scatter</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">X_smote_pca</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">X_smote_pca</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span>
                      <span class="n">c</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">factorize</span><span class="p">(</span><span class="n">y_smote</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;tab10&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>

<span class="c1"># Tambahkan legend sesuai kelas</span>
<span class="n">handles</span><span class="p">,</span> <span class="n">labels</span> <span class="o">=</span> <span class="n">scatter</span><span class="o">.</span><span class="n">legend_elements</span><span class="p">()</span>
<span class="n">class_labels</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">y_smote</span><span class="p">)</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>  <span class="c1"># ambil nama kelas unik</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">handles</span><span class="p">,</span> <span class="n">class_labels</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Kelas&quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;PCA Setelah Oversampling dengan SMOTE&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;PC1&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;PC2&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># ========================</span>
<span class="c1"># PCA &amp; Scatter Plot setelah ADASYN (jika berhasil)</span>
<span class="c1"># ========================</span>
<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">ns</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">y</span><span class="p">):</span>  <span class="c1"># cek apakah ADASYN berhasil menambah data</span>
    <span class="n">pca</span> <span class="o">=</span> <span class="n">PCA</span><span class="p">(</span><span class="n">n_components</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">X_adasyn_pca</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">nt</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
    <span class="n">scatter</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">X_adasyn_pca</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">X_adasyn_pca</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span>
                          <span class="n">c</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">factorize</span><span class="p">(</span><span class="n">ns</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;tab10&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>

    <span class="c1"># Tambahkan legend sesuai kelas</span>
    <span class="n">handles</span><span class="p">,</span> <span class="n">labels</span> <span class="o">=</span> <span class="n">scatter</span><span class="o">.</span><span class="n">legend_elements</span><span class="p">()</span>
    <span class="n">class_labels</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">ns</span><span class="p">)</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">handles</span><span class="p">,</span> <span class="n">class_labels</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Kelas&quot;</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;PCA Setelah Oversampling dengan ADASYN&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;PC1&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;PC2&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;âš ï¸ ADASYN tidak berhasil menambah data, visualisasi dilewati.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/2dd72f0572aafe5cdb3eae8a771c0523d63200701f0a157bcfaab38944c5cb72.png" src="_images/2dd72f0572aafe5cdb3eae8a771c0523d63200701f0a157bcfaab38944c5cb72.png" />
<img alt="_images/04fdd2db2111ea05a1d02ccbe67e09c2b38e892600254417dbc9ad0c876eae18.png" src="_images/04fdd2db2111ea05a1d02ccbe67e09c2b38e892600254417dbc9ad0c876eae18.png" />
</div>
</div>
<section id="hasil-data-setelah-di-seimbangkan-dengan-smote">
<h3>Hasil data setelah di seimbangkan dengan SMOTE<a class="headerlink" href="#hasil-data-setelah-di-seimbangkan-dengan-smote" title="Link to this heading">#</a></h3>
<p>Kode di bawah digunakan untuk menampilkan distribusi jumlah data setelah dilakukan proses <strong>SMOTE (Synthetic Minority Oversampling Technique)</strong>.</p>
<ol class="arabic">
<li><p>Perhitungan jumlah data per kelas</p>
<p>Hasil value_counts() menunjukkan bahwa seluruh kelas sekarang memiliki jumlah data yang sama rata, yaitu 143 data per kelas. Dengan demikian, tidak ada lagi perbedaan antara kelas mayoritas maupun minoritas.</p>
</li>
<li><p>Visualisasi distribusi kelas</p>
<p>Grafik batang memperlihatkan distribusi data yang merata untuk semua kelas (<code class="docutils literal notranslate"><span class="pre">cp,</span> <span class="pre">im,</span> <span class="pre">pp,</span> <span class="pre">imU,</span> <span class="pre">imS,</span> <span class="pre">om,</span> <span class="pre">imL,</span> <span class="pre">omL</span></code>). Setiap batang memiliki tinggi yang sama karena jumlah data sudah diseimbangkan oleh <strong>SMOTE</strong>.</p>
</li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">seaborn</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sns</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Jumlah data per kelas setelah SMOTE:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y_smote</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">y_smote</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>
            <span class="n">y</span><span class="o">=</span><span class="n">y_smote</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">,</span>
            <span class="n">palette</span><span class="o">=</span><span class="s2">&quot;tab10&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Distribusi Jumlah Data per Kelas (SMOTE)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Kelas&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Jumlah Data&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Jumlah data per kelas setelah SMOTE:
class
im     143
cp     143
pp     143
imU    143
imS    143
om     143
imL    143
omL    143
Name: count, dtype: int64
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/tmp/ipython-input-2819008724.py:8: FutureWarning: 

Passing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.

  sns.barplot(x=y_smote.value_counts().index,
</pre></div>
</div>
<img alt="_images/b68c651fd93235ea1dd81ac941a510c5b5695fe872a5d965b7c9c2f57073172b.png" src="_images/b68c651fd93235ea1dd81ac941a510c5b5695fe872a5d965b7c9c2f57073172b.png" />
</div>
</div>
</section>
<section id="hasil-data-setelah-di-seimbangkan-dengan-adasyn">
<h3>Hasil data setelah di seimbangkan dengan ADASYN<a class="headerlink" href="#hasil-data-setelah-di-seimbangkan-dengan-adasyn" title="Link to this heading">#</a></h3>
<p>Kode di bawah digunakan untuk menampilkan distribusi jumlah data setelah dilakukan proses <strong>ADASYN (Adaptive Synthetic Sampling)</strong>.</p>
<ol class="arabic">
<li><p>Perhitungan jumlah data per kelas</p>
<p>Hasil <code class="docutils literal notranslate"><span class="pre">value_counts()</span></code> menunjukkan bahwa distribusi data sudah jauh lebih seimbang dibandingkan data original. Jumlah data tiap kelas hampir merata, meskipun tidak persis sama:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">im</span></code> : 149 data</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">imU</span></code> : 144 data</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cp,</span> <span class="pre">om,</span> <span class="pre">omL</span></code> : masing-masing 143 data</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pp,</span> <span class="pre">imS,</span> <span class="pre">imL</span></code> : masing-masing 142 data</p></li>
</ul>
<p>Dengan ADASYN, kelas minoritas ditambahkan data sintetis secara adaptif, sehingga jumlahnya mendekati kelas mayoritas.</p>
</li>
<li><p>Visualisasi distribusi kelas</p>
<p>Grafik batang memperlihatkan distribusi kelas yang hampir seragam. Tidak ada kelas yang sangat dominan atau sangat sedikit seperti pada data original. Meskipun terdapat sedikit variasi (142â€“149 data per kelas), perbedaan tersebut relatif kecil.</p>
</li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="s1">&#39;ns&#39;</span> <span class="ow">in</span> <span class="nb">locals</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Jumlah data per kelas setelah ADASYN:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">ns</span><span class="p">)</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
    <span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">ns</span><span class="p">)</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>
                <span class="n">y</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">ns</span><span class="p">)</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">,</span>
                <span class="n">palette</span><span class="o">=</span><span class="s2">&quot;tab10&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Distribusi Jumlah Data per Kelas (ADASYN)&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Kelas&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Jumlah Data&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Jumlah data per kelas setelah ADASYN:
class
im     149
imU    144
cp     143
om     143
omL    143
pp     142
imS    142
imL    142
Name: count, dtype: int64
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/tmp/ipython-input-1772876076.py:6: FutureWarning: 

Passing `palette` without assigning `hue` is deprecated and will be removed in v0.14.0. Assign the `x` variable to `hue` and set `legend=False` for the same effect.

  sns.barplot(x=pd.Series(ns).value_counts().index,
</pre></div>
</div>
<img alt="_images/b9d2c68ea9158824d3bbac128147207cff51ae18dce38185c394132382b7de06.png" src="_images/b9d2c68ea9158824d3bbac128147207cff51ae18dce38185c394132382b7de06.png" />
</div>
</div>
</section>
</section>
<section id="klasifikasi">
<h2><strong>Klasifikasi</strong><a class="headerlink" href="#klasifikasi" title="Link to this heading">#</a></h2>
<p>Klasifikasi merupakan salah satu metode dalam machine learning yang digunakan untuk memprediksi <strong>label kelas</strong> dari suatu data berdasarkan pola yang dipelajari dari data latih (training data). Tujuan dari klasifikasi adalah agar model mampu mengelompokkan data baru ke dalam kategori yang tepat.</p>
<p>Dalam penelitian ini, klasifikasi dilakukan menggunakan beberapa algoritma dan pendekatan:</p>
<ol class="arabic simple">
<li><p>Naive Bayes</p>
<ul class="simple">
<li><p>Merupakan algoritma berbasis probabilitas yang menggunakan teorema Bayes dengan asumsi bahwa setiap fitur bersifat independen.</p></li>
<li><p>Cocok digunakan untuk dataset dengan dimensi tinggi, sederhana, dan cepat dalam perhitungan.</p></li>
</ul>
</li>
<li><p>Random Forest</p>
<ul class="simple">
<li><p>Algoritma berbasis ensemble learning yang membangun banyak decision tree secara acak, kemudian menggabungkan hasil prediksi dari setiap pohon untuk mendapatkan hasil akhir.</p></li>
<li><p>Metode ini biasanya lebih stabil dan akurat karena mengurangi risiko overfitting.</p></li>
</ul>
</li>
<li><p>Ensemble Bagging</p>
<ul class="simple">
<li><p>Teknik ensemble yang membangun beberapa model dengan data latih yang diambil secara bootstrap (sampel acak dengan pengembalian).</p></li>
<li><p>Tujuannya adalah mengurangi variansi dan meningkatkan akurasi prediksi.</p></li>
<li><p>Dalam penelitian ini, Bagging digunakan dengan dua model dasar: Naive Bayes dan Random Forest.</p></li>
</ul>
</li>
</ol>
<section id="naive-bayes">
<h3><strong>Naive Bayes</strong><a class="headerlink" href="#naive-bayes" title="Link to this heading">#</a></h3>
<p>Naive Bayes merupakan algoritma klasifikasi berbasis probabilitas yang menggunakan <strong>Teorema Bayes</strong> dengan asumsi bahwa setiap fitur saling independen. Algoritma ini dikenal sederhana, cepat, dan cukup efektif, terutama pada data berdimensi tinggi.</p>
<p>Pada percobaan ini, Naive Bayes diterapkan pada tiga kondisi dataset: <strong>data asli</strong>, <strong>data hasil SMOTE</strong>, dan <strong>data hasil ADASYN</strong>. Evaluasi dilakukan menggunakan dua metrik, yaitu <strong>akurasi</strong> dan <strong>F1-score</strong>.</p>
<ol class="arabic simple">
<li><p>Data Asli</p>
<ul class="simple">
<li><p>Akurasi: <strong>0.853</strong></p></li>
<li><p>F1-score: <strong>0.847</strong></p></li>
<li><p>Hasil ini menunjukkan bahwa Naive Bayes bekerja cukup baik pada distribusi data asli meskipun dataset awal tidak seimbang.</p></li>
</ul>
</li>
<li><p>Data SMOTE</p>
<ul class="simple">
<li><p>Akurasi: <strong>0.790</strong></p></li>
<li><p>F1-score: <strong>0.749</strong></p></li>
<li><p>Performa menurun setelah data diseimbangkan menggunakan SMOTE. Hal ini dapat terjadi karena SMOTE menghasilkan sampel sintetis yang membuat asumsi independensi antar fitur pada Naive Bayes menjadi kurang sesuai, sehingga memengaruhi kualitas prediksi.</p></li>
</ul>
</li>
<li><p>Data ADASYN</p>
<ul class="simple">
<li><p>Akurasi: <strong>0.826</strong></p></li>
<li><p>F1-score: <strong>0.822</strong></p></li>
<li><p>Hasil dengan ADASYN lebih baik dibandingkan SMOTE, meskipun masih sedikit di bawah data asli. ADASYN menambahkan data sintetis lebih adaptif pada kelas minoritas, sehingga model dapat belajar lebih seimbang dibandingkan dengan SMOTE.</p></li>
</ul>
</li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># ==========================</span>
<span class="c1"># Naive Bayes</span>
<span class="c1"># ==========================</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.model_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.naive_bayes</span><span class="w"> </span><span class="kn">import</span> <span class="n">GaussianNB</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">accuracy_score</span><span class="p">,</span> <span class="n">f1_score</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>

<span class="c1"># --------------------------</span>
<span class="c1"># Data asli</span>
<span class="c1"># --------------------------</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
    <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span> <span class="n">stratify</span><span class="o">=</span><span class="n">y</span>
<span class="p">)</span>

<span class="n">nb</span> <span class="o">=</span> <span class="n">GaussianNB</span><span class="p">()</span>
<span class="n">nb</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

<span class="n">naive_ori</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>
<span class="n">f1_ori</span> <span class="o">=</span> <span class="n">f1_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">,</span> <span class="n">average</span><span class="o">=</span><span class="s2">&quot;weighted&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=== Naive Bayes - Data Asli ===&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Akurasi :&quot;</span><span class="p">,</span> <span class="n">naive_ori</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;F1 Score:&quot;</span><span class="p">,</span> <span class="n">f1_ori</span><span class="p">)</span>

<span class="c1"># --------------------------</span>
<span class="c1"># Data SMOTE</span>
<span class="c1"># --------------------------</span>
<span class="n">X_sm_train</span><span class="p">,</span> <span class="n">X_sm_test</span><span class="p">,</span> <span class="n">y_sm_train</span><span class="p">,</span> <span class="n">y_sm_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
    <span class="n">X_smote</span><span class="p">,</span> <span class="n">y_smote</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span> <span class="n">stratify</span><span class="o">=</span><span class="n">y_smote</span>
<span class="p">)</span>

<span class="n">nb_smote</span> <span class="o">=</span> <span class="n">GaussianNB</span><span class="p">()</span>
<span class="n">nb_smote</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_sm_train</span><span class="p">,</span> <span class="n">y_sm_train</span><span class="p">)</span>
<span class="n">y_sm_pred</span> <span class="o">=</span> <span class="n">nb_smote</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_sm_test</span><span class="p">)</span>

<span class="n">naive_smote</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_sm_test</span><span class="p">,</span> <span class="n">y_sm_pred</span><span class="p">)</span>
<span class="n">f1_smote</span> <span class="o">=</span> <span class="n">f1_score</span><span class="p">(</span><span class="n">y_sm_test</span><span class="p">,</span> <span class="n">y_sm_pred</span><span class="p">,</span> <span class="n">average</span><span class="o">=</span><span class="s2">&quot;weighted&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Naive Bayes - Data SMOTE ===&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Akurasi :&quot;</span><span class="p">,</span> <span class="n">naive_smote</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;F1 Score:&quot;</span><span class="p">,</span> <span class="n">f1_smote</span><span class="p">)</span>

<span class="c1"># --------------------------</span>
<span class="c1"># Data ADASYN</span>
<span class="c1"># --------------------------</span>
<span class="n">X_ad_train</span><span class="p">,</span> <span class="n">X_ad_test</span><span class="p">,</span> <span class="n">y_ad_train</span><span class="p">,</span> <span class="n">y_ad_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
    <span class="n">nt</span><span class="p">,</span> <span class="n">ns</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span> <span class="n">stratify</span><span class="o">=</span><span class="n">ns</span>
<span class="p">)</span>

<span class="n">nb_adasyn</span> <span class="o">=</span> <span class="n">GaussianNB</span><span class="p">()</span>
<span class="n">nb_adasyn</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_ad_train</span><span class="p">,</span> <span class="n">y_ad_train</span><span class="p">)</span>
<span class="n">y_ad_pred</span> <span class="o">=</span> <span class="n">nb_adasyn</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_ad_test</span><span class="p">)</span>

<span class="n">naive_adasyn</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_ad_test</span><span class="p">,</span> <span class="n">y_ad_pred</span><span class="p">)</span>
<span class="n">f1_adasyn</span> <span class="o">=</span> <span class="n">f1_score</span><span class="p">(</span><span class="n">y_ad_test</span><span class="p">,</span> <span class="n">y_ad_pred</span><span class="p">,</span> <span class="n">average</span><span class="o">=</span><span class="s2">&quot;weighted&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Naive Bayes - Data ADASYN ===&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Akurasi :&quot;</span><span class="p">,</span> <span class="n">naive_adasyn</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;F1 Score:&quot;</span><span class="p">,</span> <span class="n">f1_adasyn</span><span class="p">)</span>

<span class="c1"># --------------------------</span>
<span class="c1"># Ringkasan hasil NB</span>
<span class="c1"># --------------------------</span>
<span class="n">hasil_nb</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s2">&quot;Dataset&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Asli&quot;</span><span class="p">,</span> <span class="s2">&quot;SMOTE&quot;</span><span class="p">,</span> <span class="s2">&quot;ADASYN&quot;</span><span class="p">],</span>
    <span class="s2">&quot;Akurasi NB&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">naive_ori</span><span class="p">,</span> <span class="n">naive_smote</span><span class="p">,</span> <span class="n">naive_adasyn</span><span class="p">],</span>
    <span class="s2">&quot;F1 Score NB&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">f1_ori</span><span class="p">,</span> <span class="n">f1_smote</span><span class="p">,</span> <span class="n">f1_adasyn</span><span class="p">]</span>
<span class="p">})</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Ringkasan Perbandingan Naive Bayes:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">hasil_nb</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>=== Naive Bayes - Data Asli ===
Akurasi : 0.8529411764705882
F1 Score: 0.8469871111687042

=== Naive Bayes - Data SMOTE ===
Akurasi : 0.7903930131004366
F1 Score: 0.7487888762232741

=== Naive Bayes - Data ADASYN ===
Akurasi : 0.8260869565217391
F1 Score: 0.8221135943049735

Ringkasan Perbandingan Naive Bayes:
  Dataset  Akurasi NB  F1 Score NB
0    Asli    0.852941     0.846987
1   SMOTE    0.790393     0.748789
2  ADASYN    0.826087     0.822114
</pre></div>
</div>
</div>
</div>
</section>
<section id="random-forest">
<h3><strong>Random Forest</strong><a class="headerlink" href="#random-forest" title="Link to this heading">#</a></h3>
<p>Metode Random Forest digunakan sebagai algoritma klasifikasi untuk membandingkan kinerja model pada tiga skenario dataset, yaitu data asli, data setelah dilakukan oversampling dengan SMOTE, dan data setelah dilakukan oversampling dengan ADASYN.</p>
<ol class="arabic">
<li><p>Data Asli</p>
<p>Pada data asli, Random Forest menghasilkan akurasi sebesar <strong>0.8971</strong> atau sekitar <strong>89.71%</strong>. Nilai ini menunjukkan bahwa model sudah cukup baik dalam mengenali pola, meskipun terdapat ketidakseimbangan kelas pada data.</p>
</li>
<li><p>Data dengan SMOTE</p>
<p>Setelah dilakukan penyeimbangan data menggunakan SMOTE, akurasi model meningkat signifikan menjadi <strong>0.9738</strong> atau sekitar <strong>97.38%</strong>. Hal ini menandakan bahwa SMOTE berhasil membantu model belajar lebih seimbang dari setiap kelas, sehingga prediksi menjadi lebih akurat.</p>
</li>
<li><p>Data dengan ADASYN</p>
<p>Pada data yang diseimbangkan menggunakan <strong>ADASYN</strong>, akurasi model juga meningkat menjadi <strong>0.9609</strong> atau sekitar <strong>96.09%</strong>. Meskipun hasilnya tidak setinggi SMOTE, metode ini tetap menunjukkan perbaikan performa dibandingkan data asli.</p>
</li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># ==========================</span>
<span class="c1"># Random Forest</span>
<span class="c1"># ==========================</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.ensemble</span><span class="w"> </span><span class="kn">import</span> <span class="n">RandomForestClassifier</span>

<span class="c1"># --------------------------</span>
<span class="c1"># Data Asli</span>
<span class="c1"># --------------------------</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
    <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span> <span class="n">stratify</span><span class="o">=</span><span class="n">y</span>
<span class="p">)</span>

<span class="n">rf</span> <span class="o">=</span> <span class="n">RandomForestClassifier</span><span class="p">(</span><span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">rf</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
<span class="n">y_pred_ori</span> <span class="o">=</span> <span class="n">rf</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
<span class="n">random_ori</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred_ori</span><span class="p">)</span>

<span class="c1"># --------------------------</span>
<span class="c1"># Data SMOTE</span>
<span class="c1"># --------------------------</span>
<span class="n">X_sm_train</span><span class="p">,</span> <span class="n">X_sm_test</span><span class="p">,</span> <span class="n">y_sm_train</span><span class="p">,</span> <span class="n">y_sm_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
    <span class="n">X_smote</span><span class="p">,</span> <span class="n">y_smote</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span> <span class="n">stratify</span><span class="o">=</span><span class="n">y_smote</span>
<span class="p">)</span>

<span class="n">rf_smote</span> <span class="o">=</span> <span class="n">RandomForestClassifier</span><span class="p">(</span><span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">rf_smote</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_sm_train</span><span class="p">,</span> <span class="n">y_sm_train</span><span class="p">)</span>
<span class="n">y_pred_smote</span> <span class="o">=</span> <span class="n">rf_smote</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_sm_test</span><span class="p">)</span>
<span class="n">random_smote</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_sm_test</span><span class="p">,</span> <span class="n">y_pred_smote</span><span class="p">)</span>

<span class="c1"># --------------------------</span>
<span class="c1"># Data ADASYN</span>
<span class="c1"># --------------------------</span>
<span class="n">X_ad_train</span><span class="p">,</span> <span class="n">X_ad_test</span><span class="p">,</span> <span class="n">y_ad_train</span><span class="p">,</span> <span class="n">y_ad_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
    <span class="n">nt</span><span class="p">,</span> <span class="n">ns</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span> <span class="n">stratify</span><span class="o">=</span><span class="n">ns</span>
<span class="p">)</span>

<span class="n">rf_adasyn</span> <span class="o">=</span> <span class="n">RandomForestClassifier</span><span class="p">(</span><span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">rf_adasyn</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_ad_train</span><span class="p">,</span> <span class="n">y_ad_train</span><span class="p">)</span>
<span class="n">y_pred_adasyn</span> <span class="o">=</span> <span class="n">rf_adasyn</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_ad_test</span><span class="p">)</span>
<span class="n">random_adasyn</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_ad_test</span><span class="p">,</span> <span class="n">y_pred_adasyn</span><span class="p">)</span>

<span class="c1"># --------------------------</span>
<span class="c1"># Ringkasan hasil RF</span>
<span class="c1"># --------------------------</span>
<span class="n">hasil_rf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s2">&quot;Dataset&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Asli&quot;</span><span class="p">,</span> <span class="s2">&quot;SMOTE&quot;</span><span class="p">,</span> <span class="s2">&quot;ADASYN&quot;</span><span class="p">],</span>
    <span class="s2">&quot;Akurasi Random Forest&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">random_ori</span><span class="p">,</span> <span class="n">random_smote</span><span class="p">,</span> <span class="n">random_adasyn</span><span class="p">]</span>
<span class="p">})</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Ringkasan Perbandingan Random Forest:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">hasil_rf</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Ringkasan Perbandingan Random Forest:
  Dataset  Akurasi Random Forest
0    Asli               0.897059
1   SMOTE               0.973799
2  ADASYN               0.960870
</pre></div>
</div>
</div>
</div>
</section>
<section id="ensemble-bagging">
<h3><strong>Ensemble Bagging</strong><a class="headerlink" href="#ensemble-bagging" title="Link to this heading">#</a></h3>
<ol class="arabic">
<li><p><strong>Naive Bayes</strong></p>
<p>Metode Bagging (Bootstrap Aggregating) dengan Naive Bayes (GaussianNB) digunakan untuk mengevaluasi kinerja klasifikasi pada tiga skenario dataset, yaitu data asli, data hasil oversampling SMOTE, dan data hasil oversampling ADASYN.</p>
<ul>
<li><p>Data Asli</p>
<p>Pada data asli, model Bagging Naive Bayes menghasilkan <strong>akurasi sebesar 85.29%</strong> dengan <strong>F1-Score 84.65%</strong>. Nilai ini menunjukkan bahwa model mampu melakukan klasifikasi dengan baik meskipun data masih mengalami ketidakseimbangan antar kelas.</p>
</li>
<li><p>Data dengan SMOTE</p>
<p>Setelah dilakukan oversampling dengan SMOTE, performa model justru menurun, dengan <strong>akurasi sebesar 78.17%</strong> dan F1-Score <strong>74.24%</strong>. Hal ini mengindikasikan bahwa SMOTE kurang cocok diterapkan pada Bagging Naive Bayes, kemungkinan karena distribusi data sintetis yang dihasilkan tidak sesuai dengan asumsi distribusi probabilistik dari Naive Bayes.</p>
</li>
<li><p>Data dengan ADASYN</p>
<p>Pada data hasil oversampling dengan ADASYN, performa model sedikit lebih baik dibandingkan SMOTE, dengan <strong>akurasi 83.91%</strong> dan <strong>F1-Score 83.72%</strong>. Meskipun belum dapat melampaui performa data asli, ADASYN memberikan hasil yang lebih stabil dibandingkan SMOTE.</p>
</li>
</ul>
</li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.model_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.ensemble</span><span class="w"> </span><span class="kn">import</span> <span class="n">BaggingClassifier</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.naive_bayes</span><span class="w"> </span><span class="kn">import</span> <span class="n">GaussianNB</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">accuracy_score</span><span class="p">,</span> <span class="n">f1_score</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>

<span class="c1"># ======================</span>
<span class="c1"># Data Asli</span>
<span class="c1"># ======================</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
    <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span> <span class="n">stratify</span><span class="o">=</span><span class="n">y</span>
<span class="p">)</span>

<span class="n">bag_nb_ori</span> <span class="o">=</span> <span class="n">BaggingClassifier</span><span class="p">(</span><span class="n">estimator</span><span class="o">=</span><span class="n">GaussianNB</span><span class="p">(),</span> <span class="n">n_estimators</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">bag_nb_ori</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
<span class="n">y_pred_nb_ori</span> <span class="o">=</span> <span class="n">bag_nb_ori</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

<span class="n">acc_nb_ori</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred_nb_ori</span><span class="p">)</span>
<span class="n">f1_nb_ori</span> <span class="o">=</span> <span class="n">f1_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred_nb_ori</span><span class="p">,</span> <span class="n">average</span><span class="o">=</span><span class="s2">&quot;weighted&quot;</span><span class="p">)</span>

<span class="c1"># ======================</span>
<span class="c1"># Data SMOTE</span>
<span class="c1"># ======================</span>
<span class="n">X_sm_train</span><span class="p">,</span> <span class="n">X_sm_test</span><span class="p">,</span> <span class="n">y_sm_train</span><span class="p">,</span> <span class="n">y_sm_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
    <span class="n">X_smote</span><span class="p">,</span> <span class="n">y_smote</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span> <span class="n">stratify</span><span class="o">=</span><span class="n">y_smote</span>
<span class="p">)</span>

<span class="n">bag_nb_sm</span> <span class="o">=</span> <span class="n">BaggingClassifier</span><span class="p">(</span><span class="n">estimator</span><span class="o">=</span><span class="n">GaussianNB</span><span class="p">(),</span> <span class="n">n_estimators</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">bag_nb_sm</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_sm_train</span><span class="p">,</span> <span class="n">y_sm_train</span><span class="p">)</span>
<span class="n">y_pred_nb_sm</span> <span class="o">=</span> <span class="n">bag_nb_sm</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_sm_test</span><span class="p">)</span>

<span class="n">acc_nb_sm</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_sm_test</span><span class="p">,</span> <span class="n">y_pred_nb_sm</span><span class="p">)</span>
<span class="n">f1_nb_sm</span> <span class="o">=</span> <span class="n">f1_score</span><span class="p">(</span><span class="n">y_sm_test</span><span class="p">,</span> <span class="n">y_pred_nb_sm</span><span class="p">,</span> <span class="n">average</span><span class="o">=</span><span class="s2">&quot;weighted&quot;</span><span class="p">)</span>

<span class="c1"># ======================</span>
<span class="c1"># Data ADASYN</span>
<span class="c1"># ======================</span>
<span class="n">X_ad_train</span><span class="p">,</span> <span class="n">X_ad_test</span><span class="p">,</span> <span class="n">y_ad_train</span><span class="p">,</span> <span class="n">y_ad_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
    <span class="n">nt</span><span class="p">,</span> <span class="n">ns</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span> <span class="n">stratify</span><span class="o">=</span><span class="n">ns</span>
<span class="p">)</span>

<span class="n">bag_nb_ad</span> <span class="o">=</span> <span class="n">BaggingClassifier</span><span class="p">(</span><span class="n">estimator</span><span class="o">=</span><span class="n">GaussianNB</span><span class="p">(),</span> <span class="n">n_estimators</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">bag_nb_ad</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_ad_train</span><span class="p">,</span> <span class="n">y_ad_train</span><span class="p">)</span>
<span class="n">y_pred_nb_ad</span> <span class="o">=</span> <span class="n">bag_nb_ad</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_ad_test</span><span class="p">)</span>

<span class="n">acc_nb_ad</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_ad_test</span><span class="p">,</span> <span class="n">y_pred_nb_ad</span><span class="p">)</span>
<span class="n">f1_nb_ad</span> <span class="o">=</span> <span class="n">f1_score</span><span class="p">(</span><span class="n">y_ad_test</span><span class="p">,</span> <span class="n">y_pred_nb_ad</span><span class="p">,</span> <span class="n">average</span><span class="o">=</span><span class="s2">&quot;weighted&quot;</span><span class="p">)</span>

<span class="c1"># ======================</span>
<span class="c1"># Ringkasan Hasil</span>
<span class="c1"># ======================</span>
<span class="n">hasil_nb</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s2">&quot;Dataset&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Asli&quot;</span><span class="p">,</span> <span class="s2">&quot;SMOTE&quot;</span><span class="p">,</span> <span class="s2">&quot;ADASYN&quot;</span><span class="p">],</span>
    <span class="s2">&quot;Accuracy NB&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">acc_nb_ori</span><span class="p">,</span> <span class="n">acc_nb_sm</span><span class="p">,</span> <span class="n">acc_nb_ad</span><span class="p">],</span>
    <span class="s2">&quot;F1-Score NB&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">f1_nb_ori</span><span class="p">,</span> <span class="n">f1_nb_sm</span><span class="p">,</span> <span class="n">f1_nb_ad</span><span class="p">],</span>
<span class="p">})</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=== Hasil Bagging Naive Bayes ===&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">hasil_nb</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/usr/local/lib/python3.12/dist-packages/sklearn/naive_bayes.py:512: RuntimeWarning: divide by zero encountered in log
  jointi = np.log(self.class_prior_[i])
/usr/local/lib/python3.12/dist-packages/sklearn/naive_bayes.py:512: RuntimeWarning: divide by zero encountered in log
  jointi = np.log(self.class_prior_[i])
/usr/local/lib/python3.12/dist-packages/sklearn/naive_bayes.py:512: RuntimeWarning: divide by zero encountered in log
  jointi = np.log(self.class_prior_[i])
/usr/local/lib/python3.12/dist-packages/sklearn/naive_bayes.py:512: RuntimeWarning: divide by zero encountered in log
  jointi = np.log(self.class_prior_[i])
/usr/local/lib/python3.12/dist-packages/sklearn/naive_bayes.py:512: RuntimeWarning: divide by zero encountered in log
  jointi = np.log(self.class_prior_[i])
/usr/local/lib/python3.12/dist-packages/sklearn/naive_bayes.py:512: RuntimeWarning: divide by zero encountered in log
  jointi = np.log(self.class_prior_[i])
/usr/local/lib/python3.12/dist-packages/sklearn/naive_bayes.py:512: RuntimeWarning: divide by zero encountered in log
  jointi = np.log(self.class_prior_[i])
/usr/local/lib/python3.12/dist-packages/sklearn/naive_bayes.py:512: RuntimeWarning: divide by zero encountered in log
  jointi = np.log(self.class_prior_[i])
/usr/local/lib/python3.12/dist-packages/sklearn/naive_bayes.py:512: RuntimeWarning: divide by zero encountered in log
  jointi = np.log(self.class_prior_[i])
/usr/local/lib/python3.12/dist-packages/sklearn/naive_bayes.py:512: RuntimeWarning: divide by zero encountered in log
  jointi = np.log(self.class_prior_[i])
/usr/local/lib/python3.12/dist-packages/sklearn/naive_bayes.py:512: RuntimeWarning: divide by zero encountered in log
  jointi = np.log(self.class_prior_[i])
/usr/local/lib/python3.12/dist-packages/sklearn/naive_bayes.py:512: RuntimeWarning: divide by zero encountered in log
  jointi = np.log(self.class_prior_[i])
/usr/local/lib/python3.12/dist-packages/sklearn/naive_bayes.py:512: RuntimeWarning: divide by zero encountered in log
  jointi = np.log(self.class_prior_[i])
/usr/local/lib/python3.12/dist-packages/sklearn/naive_bayes.py:512: RuntimeWarning: divide by zero encountered in log
  jointi = np.log(self.class_prior_[i])
/usr/local/lib/python3.12/dist-packages/sklearn/naive_bayes.py:512: RuntimeWarning: divide by zero encountered in log
  jointi = np.log(self.class_prior_[i])
/usr/local/lib/python3.12/dist-packages/sklearn/naive_bayes.py:512: RuntimeWarning: divide by zero encountered in log
  jointi = np.log(self.class_prior_[i])
/usr/local/lib/python3.12/dist-packages/sklearn/naive_bayes.py:512: RuntimeWarning: divide by zero encountered in log
  jointi = np.log(self.class_prior_[i])
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>=== Hasil Bagging Naive Bayes ===
  Dataset  Accuracy NB  F1-Score NB
0    Asli     0.852941     0.846512
1   SMOTE     0.781659     0.742375
2  ADASYN     0.839130     0.837221
</pre></div>
</div>
</div>
</div>
<ol class="arabic" start="2">
<li><p><strong>Random Forest</strong></p>
<p>Metode Bagging (Bootstrap Aggregating) dengan Random Forest digunakan untuk menguji performa klasifikasi pada tiga skenario dataset, yaitu data asli, data hasil oversampling SMOTE, dan data hasil oversampling ADASYN.</p>
<ul>
<li><p>Data Asli</p>
<p>Pada data asli, model menghasilkan <strong>akurasi sebesar 91.18%</strong> dengan <strong>F1-Score 90.77%</strong>. Nilai ini menunjukkan bahwa Bagging Random Forest memiliki performa yang tinggi dalam menangani data dengan kondisi distribusi kelas yang tidak seimbang.</p>
</li>
<li><p>Data dengan SMOTE</p>
<p>Setelah dilakukan oversampling menggunakan SMOTE, performa model meningkat signifikan dengan <strong>akurasi mencapai 96.94%</strong> dan <strong>F1-Score 96.93%</strong>. Hal ini menunjukkan bahwa data sintetis dari SMOTE membantu memperbaiki ketidakseimbangan kelas sehingga model mampu melakukan klasifikasi lebih baik.</p>
</li>
<li><p>Data dengan ADASYN</p>
<p>Hasil klasifikasi dengan ADASYN juga menunjukkan performa yang tinggi, dengan akurasi <strong>94.78%</strong> dan <strong>F1-Score 94.75%</strong>. Meskipun sedikit lebih rendah dibandingkan SMOTE, metode ADASYN tetap mampu memberikan perbaikan performa yang signifikan dibandingkan data asli.</p>
</li>
</ul>
</li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.ensemble</span><span class="w"> </span><span class="kn">import</span> <span class="n">BaggingClassifier</span><span class="p">,</span> <span class="n">RandomForestClassifier</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.model_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">accuracy_score</span><span class="p">,</span> <span class="n">f1_score</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>

<span class="c1"># ======================</span>
<span class="c1"># Data Asli</span>
<span class="c1"># ======================</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
    <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span> <span class="n">stratify</span><span class="o">=</span><span class="n">y</span>
<span class="p">)</span>

<span class="n">bag_rf_ori</span> <span class="o">=</span> <span class="n">BaggingClassifier</span><span class="p">(</span><span class="n">estimator</span><span class="o">=</span><span class="n">RandomForestClassifier</span><span class="p">(</span><span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">),</span>
                               <span class="n">n_estimators</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">bag_rf_ori</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
<span class="n">y_pred_rf_ori</span> <span class="o">=</span> <span class="n">bag_rf_ori</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

<span class="n">acc_rf_ori</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred_rf_ori</span><span class="p">)</span>
<span class="n">f1_rf_ori</span> <span class="o">=</span> <span class="n">f1_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred_rf_ori</span><span class="p">,</span> <span class="n">average</span><span class="o">=</span><span class="s2">&quot;weighted&quot;</span><span class="p">)</span>

<span class="c1"># ======================</span>
<span class="c1"># Data SMOTE</span>
<span class="c1"># ======================</span>
<span class="n">X_sm_train</span><span class="p">,</span> <span class="n">X_sm_test</span><span class="p">,</span> <span class="n">y_sm_train</span><span class="p">,</span> <span class="n">y_sm_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
    <span class="n">X_smote</span><span class="p">,</span> <span class="n">y_smote</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span> <span class="n">stratify</span><span class="o">=</span><span class="n">y_smote</span>
<span class="p">)</span>

<span class="n">bag_rf_sm</span> <span class="o">=</span> <span class="n">BaggingClassifier</span><span class="p">(</span><span class="n">estimator</span><span class="o">=</span><span class="n">RandomForestClassifier</span><span class="p">(</span><span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">),</span>
                              <span class="n">n_estimators</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">bag_rf_sm</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_sm_train</span><span class="p">,</span> <span class="n">y_sm_train</span><span class="p">)</span>
<span class="n">y_pred_rf_sm</span> <span class="o">=</span> <span class="n">bag_rf_sm</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_sm_test</span><span class="p">)</span>

<span class="n">acc_rf_sm</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_sm_test</span><span class="p">,</span> <span class="n">y_pred_rf_sm</span><span class="p">)</span>
<span class="n">f1_rf_sm</span> <span class="o">=</span> <span class="n">f1_score</span><span class="p">(</span><span class="n">y_sm_test</span><span class="p">,</span> <span class="n">y_pred_rf_sm</span><span class="p">,</span> <span class="n">average</span><span class="o">=</span><span class="s2">&quot;weighted&quot;</span><span class="p">)</span>

<span class="c1"># ======================</span>
<span class="c1"># Data ADASYN</span>
<span class="c1"># ======================</span>
<span class="n">X_ad_train</span><span class="p">,</span> <span class="n">X_ad_test</span><span class="p">,</span> <span class="n">y_ad_train</span><span class="p">,</span> <span class="n">y_ad_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
    <span class="n">nt</span><span class="p">,</span> <span class="n">ns</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span> <span class="n">stratify</span><span class="o">=</span><span class="n">ns</span>
<span class="p">)</span>

<span class="n">bag_rf_ad</span> <span class="o">=</span> <span class="n">BaggingClassifier</span><span class="p">(</span><span class="n">estimator</span><span class="o">=</span><span class="n">RandomForestClassifier</span><span class="p">(</span><span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">),</span>
                              <span class="n">n_estimators</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">bag_rf_ad</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_ad_train</span><span class="p">,</span> <span class="n">y_ad_train</span><span class="p">)</span>
<span class="n">y_pred_rf_ad</span> <span class="o">=</span> <span class="n">bag_rf_ad</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_ad_test</span><span class="p">)</span>

<span class="n">acc_rf_ad</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_ad_test</span><span class="p">,</span> <span class="n">y_pred_rf_ad</span><span class="p">)</span>
<span class="n">f1_rf_ad</span> <span class="o">=</span> <span class="n">f1_score</span><span class="p">(</span><span class="n">y_ad_test</span><span class="p">,</span> <span class="n">y_pred_rf_ad</span><span class="p">,</span> <span class="n">average</span><span class="o">=</span><span class="s2">&quot;weighted&quot;</span><span class="p">)</span>

<span class="c1"># ======================</span>
<span class="c1"># Ringkasan Hasil</span>
<span class="c1"># ======================</span>
<span class="n">hasil_rf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s2">&quot;Dataset&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Asli&quot;</span><span class="p">,</span> <span class="s2">&quot;SMOTE&quot;</span><span class="p">,</span> <span class="s2">&quot;ADASYN&quot;</span><span class="p">],</span>
    <span class="s2">&quot;Accuracy RF&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">acc_rf_ori</span><span class="p">,</span> <span class="n">acc_rf_sm</span><span class="p">,</span> <span class="n">acc_rf_ad</span><span class="p">],</span>
    <span class="s2">&quot;F1-Score RF&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">f1_rf_ori</span><span class="p">,</span> <span class="n">f1_rf_sm</span><span class="p">,</span> <span class="n">f1_rf_ad</span><span class="p">],</span>
<span class="p">})</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=== Hasil Bagging Random Forest ===&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">hasil_rf</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>=== Hasil Bagging Random Forest ===
  Dataset  Accuracy RF  F1-Score RF
0    Asli     0.911765     0.907667
1   SMOTE     0.969432     0.969333
2  ADASYN     0.947826     0.947483
</pre></div>
</div>
</div>
</div>
</section>
<section id="id1">
<h3><strong>Kesimpulan</strong><a class="headerlink" href="#id1" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><strong>Naive Bayes</strong> bekerja lebih baik pada data original, tetapi performanya cenderung menurun setelah data diseimbangkan.</p></li>
<li><p><strong>Random Forest</strong> justru mendapatkan peningkatan signifikan pada data hasil <strong>SMOTE</strong> dan <strong>ADASYN</strong>, karena lebih mampu memanfaatkan distribusi kelas yang seimbang.</p></li>
<li><p><strong>Bagging Random</strong> Forest menunjukkan hasil paling stabil dan unggul dibandingkan metode lainnya.</p></li>
</ul>
<p>Dengan demikian, proses <strong>oversampling</strong> (SMOTE/ADASYN) dan penggunaan <strong>ensemble learning</strong> (Random Forest, Bagging) dapat meningkatkan performa klasifikasi pada dataset yang mengalami ketidakseimbangan kelas.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>

<span class="c1"># =======================</span>
<span class="c1"># Kumpulkan semua hasil</span>
<span class="c1"># =======================</span>

<span class="c1"># Naive Bayes</span>
<span class="n">hasil_nb_ori</span> <span class="o">=</span> <span class="n">naive_ori</span>      <span class="c1"># hasil akurasi NB data asli</span>
<span class="n">hasil_nb_sm</span> <span class="o">=</span> <span class="n">naive_smote</span>     <span class="c1"># hasil akurasi NB SMOTE</span>
<span class="n">hasil_nb_ad</span> <span class="o">=</span> <span class="n">naive_adasyn</span>    <span class="c1"># hasil akurasi NB ADASYN</span>

<span class="c1"># Random Forest</span>
<span class="n">hasil_rf_ori</span> <span class="o">=</span> <span class="n">random_ori</span>      <span class="c1"># hasil akurasi RF data asli</span>
<span class="n">hasil_rf_sm</span> <span class="o">=</span> <span class="n">random_smote</span>     <span class="c1"># hasil akurasi RF SMOTE</span>
<span class="n">hasil_rf_ad</span> <span class="o">=</span> <span class="n">random_adasyn</span>    <span class="c1"># hasil akurasi RF ADASYN</span>

<span class="c1"># Bagging NB</span>
<span class="n">hasil_bnb_ori</span> <span class="o">=</span> <span class="n">acc_nb_ori</span>
<span class="n">hasil_bnb_sm</span> <span class="o">=</span> <span class="n">acc_nb_sm</span>
<span class="n">hasil_bnb_ad</span> <span class="o">=</span> <span class="n">acc_nb_ad</span>

<span class="c1"># Bagging RF</span>
<span class="n">hasil_brf_ori</span> <span class="o">=</span> <span class="n">acc_rf_ori</span>
<span class="n">hasil_brf_sm</span> <span class="o">=</span> <span class="n">acc_rf_sm</span>
<span class="n">hasil_brf_ad</span> <span class="o">=</span> <span class="n">acc_rf_ad</span>

<span class="c1"># =======================</span>
<span class="c1"># Buat DataFrame perbandingan</span>
<span class="c1"># =======================</span>
<span class="n">comparison</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="p">(</span><span class="s2">&quot;Accuracy&quot;</span><span class="p">,</span> <span class="s2">&quot;Asli&quot;</span><span class="p">):</span> <span class="p">{</span>
        <span class="s2">&quot;Naive Bayes&quot;</span><span class="p">:</span> <span class="n">hasil_nb_ori</span><span class="p">,</span>
        <span class="s2">&quot;Random Forest&quot;</span><span class="p">:</span> <span class="n">hasil_rf_ori</span><span class="p">,</span>
        <span class="s2">&quot;Bagging (NB)&quot;</span><span class="p">:</span> <span class="n">hasil_bnb_ori</span><span class="p">,</span>
        <span class="s2">&quot;Bagging (RF)&quot;</span><span class="p">:</span> <span class="n">hasil_brf_ori</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="p">(</span><span class="s2">&quot;Accuracy&quot;</span><span class="p">,</span> <span class="s2">&quot;SMOTE&quot;</span><span class="p">):</span> <span class="p">{</span>
        <span class="s2">&quot;Naive Bayes&quot;</span><span class="p">:</span> <span class="n">hasil_nb_sm</span><span class="p">,</span>
        <span class="s2">&quot;Random Forest&quot;</span><span class="p">:</span> <span class="n">hasil_rf_sm</span><span class="p">,</span>
        <span class="s2">&quot;Bagging (NB)&quot;</span><span class="p">:</span> <span class="n">hasil_bnb_sm</span><span class="p">,</span>
        <span class="s2">&quot;Bagging (RF)&quot;</span><span class="p">:</span> <span class="n">hasil_brf_sm</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="p">(</span><span class="s2">&quot;Accuracy&quot;</span><span class="p">,</span> <span class="s2">&quot;ADASYN&quot;</span><span class="p">):</span> <span class="p">{</span>
        <span class="s2">&quot;Naive Bayes&quot;</span><span class="p">:</span> <span class="n">hasil_nb_ad</span><span class="p">,</span>
        <span class="s2">&quot;Random Forest&quot;</span><span class="p">:</span> <span class="n">hasil_rf_ad</span><span class="p">,</span>
        <span class="s2">&quot;Bagging (NB)&quot;</span><span class="p">:</span> <span class="n">hasil_bnb_ad</span><span class="p">,</span>
        <span class="s2">&quot;Bagging (RF)&quot;</span><span class="p">:</span> <span class="n">hasil_brf_ad</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">})</span>

<span class="c1"># Supaya tampil rapi multi-level kolom</span>
<span class="n">comparison</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">MultiIndex</span><span class="o">.</span><span class="n">from_tuples</span><span class="p">(</span><span class="n">comparison</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>

<span class="c1"># Tampilkan tabel akhir</span>
<span class="nb">print</span><span class="p">(</span><span class="n">comparison</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>               Accuracy                    
                   Asli     SMOTE    ADASYN
Naive Bayes    0.852941  0.790393  0.826087
Random Forest  0.897059  0.973799  0.960870
Bagging (NB)   0.852941  0.781659  0.839130
Bagging (RF)   0.911765  0.969432  0.947826
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#import-library-load-data"><strong>Import library &amp; load data</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#preprocessing-data"><strong>Preprocessing Data</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-original"><strong>Data Original</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#kesimpulan">Kesimpulan</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#oversampling-dengan-smote"><strong>Oversampling dengan SMOTE</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#oversampling-dengan-adasyn"><strong>Oversampling dengan ADASYN</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#reduksi-dimensi-dengan-pca-setelah-oversampling"><strong>Reduksi Dimensi dengan PCA setelah oversampling</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#hasil-data-setelah-di-seimbangkan-dengan-smote">Hasil data setelah di seimbangkan dengan SMOTE</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#hasil-data-setelah-di-seimbangkan-dengan-adasyn">Hasil data setelah di seimbangkan dengan ADASYN</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#klasifikasi"><strong>Klasifikasi</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#naive-bayes"><strong>Naive Bayes</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#random-forest"><strong>Random Forest</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ensemble-bagging"><strong>Ensemble Bagging</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1"><strong>Kesimpulan</strong></a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Dwi Prasetya Mumtaz
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      Â© Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>